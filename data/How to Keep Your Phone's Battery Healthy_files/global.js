define("modules/Ads",["jquery","modules/Utils","modules/Debounce"],function(a,b,c){"use strict";var d=function(){function b(){l.on("click",d),j.cmd.push(function(){j.pubads().addEventListener("slotRenderEnded",e)})}function d(){k.addClass("adb-off").removeClass("adb-image-show adb-noimage-show no-scroll adb-close-show")}function e(a){a.hasOwnProperty("slot")&&f(a.slot)}function f(b){a(window).trigger("render.app.gpt-ads",b)}function g(){var b;if("undefined"!=typeof window.gptLayer){b=window.gptLayer.adSlots;for(var c=0,d=b.length;d>c;c++)"gpt_lb_a"===b[c].id&&b[c].rendered&&h()}a(window).on("adRender",h)}function h(b,c){var d=a(".leaderboard");if(!d.hasClass("rendered")&&(c=c||!1,!c||"gpt_lb_a"===c.id)){var e=setInterval(function(){a("#gpt_lb_a").height()>30&&(d.addClass("rendered"),clearInterval(e))},50);setTimeout(function(){clearInterval(e),d.find("iframe").height()>=2&&!d.hasClass("rendered")&&d.addClass("rendered")},1e4)}}function i(){var b,c,d,e=a(".landing-feed-container .leaderboard, .ad-gpt-breaker"),f=window.innerWidth;a.each(e,function(){return d=a(this),d.closest("#transporter").length?!0:(c=d.parent().width(),b=-Math.abs((f-c)/2)+"px",void d.css({"margin-left":b,"margin-right":b}))})}var j,k,l;return{init:function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.hasOwnProperty("cmd")?window.googletag.cmd:[],j=window.googletag,l=a(".adb-close"),k=a("html"),b(),a("body#homepage").length&&g(),i(),c.on("resize","ad-resize",i)}}}();return d}),define("apis/Facebook",["jquery"],function(a){"use strict";var b=function(){function b(){var b;b=a("meta[property='fb:app_id']").prop("content"),f=window.FB,f.init({appId:b,version:"v2.3",xfbml:!0}),f.getLoginStatus(c)}function c(a){e=a.status,d()}function d(){a(document).trigger("load.app.facebook")}var e="unknown",f=null;return{init:function(){window.fbAsyncInit=b,require(["//connect.facebook.net/"+window.mediaOsConfig.locale+"/sdk.js"])},getAPI:function(){return f},isConnected:function(){return"connected"===e}}}();return b}),define("modules/SidePanel",["jquery","iscroll","modules/Utils","modules/NavFeed"],function(a,b,c,d){"use strict";var e=function(){function e(e){e.preventDefault(),y=g(),x?f():(x=!0,s.addClass("open"),c.mq>=c.mqs.mobile_w&&y>0&&t.css({transform:"translate("+y+"px, 0px)","transition-property":"transform","transition-duration":"0.3s","transition-timing-function":"ease","transition-delay":"0s"}),t.on("DOMMouseScroll mousewheel",h),t.on("touchstart",m),t.on("touchmove",n),v=new b("#nav-panel",{mouseWheel:!0,tap:!0}),o(u,u),d.closeFeed(),B.left=y,B.isOpen=x,a(window).trigger(B))}function f(){x=!1,s.removeClass("open"),t.css({transform:"none","transition-property":"transform","transition-duration":"0.3s","transition-timing-function":"ease","transition-delay":"0s"}),t.off("touchmove mousewheel DOMMouseScroll"),B.left=0,B.isOpen=x,a(window).trigger(B),y=0,t.off("touchmove mousewheel DOMMouseScroll"),v&&(v.destroy(),v=null),s.removeClass("open")}function g(){var b=a(".nav--inner").offset(),c=b.left;return w-c}function h(a){a=window.event||a;var b=!1;"wheelDeltaX"in a?0!==a.wheelDeltaX&&(b=!0):"originalEvent"in a&&1===a.originalEvent.axis&&(b=!0),(b||c.mq<c.mq.tablet)&&(a.stopPropagation(),a.preventDefault(),a.cancelBubble=!1)}function i(b){var c=a(b.currentTarget);if(b.preventDefault(),c.hasClass("nav-panel--trigger")){var d=c.parent().find("ul");return d.addClass("open"),void o(d,a("#nav-panel ul"))}return c.hasClass("nav-panel--panel--close")?(c.closest(".nav-panel--panel").removeClass("open"),void o(u,u)):void 0}function j(a){a.preventDefault(),s.find(".nav-panel--panel").removeClass("open"),o(u,u)}function k(b){if(b.preventDefault(),b.stopPropagation(),!c.preventGhostClick()&&"click"!==b.type){var d=a(b.currentTarget),e=["_blank","_self","_parent","_top"],f=d.attr("href"),g=d.attr("target");f&&(e.indexOf(g)<0&&(g="_self"),window.open(f,g),c.preventGhostClick(!0))}}function l(){var a=Modernizr.touch?"tap":"click";q.on("click",e),r.on(a,f),s.on(a,".nav-panel--trigger, .nav-panel--panel--close",i),s.on(a,".nav-panel--close",j),Modernizr.touch&&(s.on("click",".nav-panel--panel--title, .nav-panel--panel--link",k),s.on("tap",".nav-panel--panel--title, .nav-panel--panel--link",k)),p.on("showNavPanel",e),p.on("closeNavPanel",f)}function m(a){var b=a.originalEvent.changedTouches[0];z=b.pageX,A=b.pageY}function n(a){var b,c=a.originalEvent.changedTouches[0],d=c.pageX,e=c.pageY,f=d-z,g=e-A;return b=Math.abs(f)>Math.abs(g)?"horizontal":"vertical","horizontal"===b?(event.stopPropagation(),event.preventDefault(),void(event.cancelBubble=!1)):void 0}function o(b,c){var d=0;b.children("li").each(function(){d+=a(this).height()}),c.css("min-height",d+100),v&&v.refresh()}var p,q,r,s,t,u,v,w=270,x=!1,y=0,z=0,A=0,B=a.Event("sidePanel:notify");return{init:function(){p=a(document),q=a(".nav--open-panel"),r=a(".nav-panel--close"),s=a(".nav-panel"),t=a(".site-wrapper"),u=a("#nav-panel--scrollable"),l()}}}();return e}),define("modules/Share",["jquery","underscore","modules/Utils","modules/Debounce","apis/Facebook","modules/Newsletter"],function(a,b,c,d,e,f){"use strict";var g=function(){function d(){B.on("click",".share-button--open-window",i).on("click",".share-button--comments, .comments-jump",j).on("click",".module-comments--toggle",k).on("click",".social-follow--close-icon",o).on("click",".share-button",o).on("click",".social-follow--button",t).on("click",".email-module--yes",w).on("click",".email-module--address",y).on("blur",".email-module--address",z).on("keypress",".email-module--address",A),G=window.twttr,G&&G.events.bind("click",u.bind(null,"twitter")),a(".email-module").on("click",function(){clearTimeout(C),L=!1}),a(document).on("load.app.facebook",l),a(window).TabWindowVisibilityManager({onFocusCallback:function(){E=!0},onBlurCallback:function(){E=!1}}),Modernizr.touch?B.on("click",".share-module--display-toggle",function(){a(this).closest(".share-module-collapsed").toggleClass("active"),a(this).find(".icon").toggleClass("icon-share02 icon-close01")}):(a(document).on("load.app.landingfeed",function(){g.renderShareCounts()}),B.on("mouseenter",".landing-feed--story-shares, .gallery-landing--shares",function(){g.openShareBar(a(this).children(".share-bar"))}).on("mouseleave",".landing-feed--story-shares, .gallery-landing--shares",function(){g.closeShareBar(a(this).children(".share-bar"))}).on("mouseenter",".share-module-collapsed",function(){a(this).addClass("active").find(".icon-share")}).on("mouseleave",".share-module-collapsed",function(){a(this).removeClass("active")}))}function h(b){N=N||a(".email-module-newsletter-form");var c=N.find(".social-follow--button"),d=N.find(".email-module-messages");N.show(),d.html(b).show(),c.hide()}function i(b){b.preventDefault();var c=a(b.target),d=c.closest("a"),e=d.attr("href"),f=c.closest(".share-button--facebook").length>0,g=c.closest(".share-button--reddit").length>0,h=c.closest(".share-button--pinterest").length>0,i=c.closest(".multi-pinterest").length>0,j=window.PinUtils,k=600,l=600;return m(c.closest(".share-button").data("contentId")),"undefined"!=typeof window.Up&&"undefined"!=typeof window.Up.sendShare&&window.Up.sendShare({isFacebook:f,isReddit:g,url:e},"click"),J&&f?void 0:(g&&(k=860),i&&j?void window.PinUtils.pinAny():h&&j?void window.PinUtils.pinOne({url:d.data("share-url"),media:d.data("share-media"),description:decodeURIComponent(d.data("share-description"))}):void window.open(e,"share_window","height="+l+", width="+k+", scrollbars=1"))}function j(b){b.preventDefault();var c=a("#comments").offset().top-50,d=a(".nav").height();a(window).scrollTo(c-d,1e3)}function k(b){var c,d=a(b.target),e=d.siblings(".module-comments"),f=d.find(".module-comments--toggle-text");e.slideToggle(400,function(){c=f.text()===window.i18n.t("LANG_HIDE_THE_CONVERSATION")?f.data("commentText"):window.i18n.t("LANG_HIDE_THE_CONVERSATION"),f.text(c)})}function l(){var b=a("meta[property='fb:app_id']").prop("content"),c=e.getAPI();b&&c&&(c.Event.subscribe("edge.create",u.bind(null,"facebook")),B.on("click",".share-button--facebook",function(b){for(var d=a(this),e=d.children(".share-button--link").attr("href"),f={},g=e.split("?"),h=g.length>=2?g[1].split("&"):[],i=h.length,j=0;i>j;j++){var k=h[j].split("=");f[k[0]]=k[1]}if(!f.link)return!1;b.preventDefault();var l={method:"feed",display:"popup",app_id:f.app_id,link:f.link};f.description&&(l.description=decodeURIComponent(f.description.replace(/(\+)/g," "))),f.picture&&(l.picture=f.picture),f.name&&(l.name=decodeURIComponent(f.name.replace(/(\+)/g," "))),c.ui(l,function(a){a&&a.post_id&&"undefined"!=typeof window.Up&&"undefined"!=typeof window.Up.sendShare&&window.Up.sendShare({isFacebook:!0},"share")})}),J=!0)}function m(b){a.ajax({url:"/ajax/shares/"+b+"/"})}function n(a){return a/1e3>=1&&(a/=1e3,a=a-Math.floor(a)>=.1?a.toFixed(1):Math.floor(a),a+="k"),a}function o(b){var c,d=a(b.target),e=a(".header-content");if(d.hasClass("social-follow--close-icon"))return clearTimeout(C),void q(e,I,!1,"close");if(!L&&(c=d.closest(".share-button").data("tracking-id").replace("share-button-",""),"whatsapp"!==c&&"sms"!==c&&c&&"2"!==p(c))){if("email"!==c)try{b.preventDefault()}catch(f){}r(c,I,e),D=setInterval(function(){E&&(clearInterval(D),L=!0,C=setTimeout(function(){K||q(e,I,c,"autoclose")},5e3))},500)}}function p(a){if(a){var b,d;return d="socialFollow"+a,b=c.getCookie(d)?c.getCookie(d):0}}function q(a,b,c,d){var e;a.attr("class","header-content"),c===!1&&(c=F.find(".active").attr("class").replace(/social-follow--button|active|\s/g,"")),b.removeClass("active"),b.find(".social-follow--button").removeClass("active"),b.removeClass("active").find(".social-follow--button").removeClass("active"),a.removeAttr("data-social-follow"),v(c,d),L=!1,e=p(c),e++,s(c,e)}function r(b,c,d){var e=[];e.push("social-follow-"+b),a("#sticky-wrap nav").hasClass("sticky")&&e.push("social-follow-sticky"),c.find(".social-follow--button").removeClass("active"),c.addClass("active").find("."+b).addClass("active"),d.attr("class","header-content"),d.addClass(e.join(" ")),d.attr("data-social-follow",b),N=N||a(".email-module-newsletter-form"),"email"===b?(N.find(".email-module-messages").hide(),N.find(".social-follow--button").show(),a("input.email-module--address").val(""),N.show()):N.hide(),v(b,"prompt")}function s(a,b){var d;a&&b&&(d="socialFollow"+a,c.setCookie(d,b,365))}function t(a){var b=a.currentTarget.className.replace(/social-follow--button|active|\s/g,""),c=["twitter","facebook","email"];-1===c.indexOf(b)&&u(b)}function u(a){a&&(s(a,M),v(a,"follow"))}function v(b,c){a.event.trigger({type:"render.app.social-follow",social:b,event:c})}function w(){y();var b=H.val(),c={},d=a(".email-module-newsletter-form");return"Email"===b||""===a.trim(b)?(H.css("border","1px solid #FF0000"),!1):f.validateEmail(b)?(d.serializeArray().map(function(a){c[a.name]=a.value}),void x(d,b,c)):(H.css("border","1px solid #FF0000"),!1)}function x(b,d,e){b&&b.length&&(a.ajax({type:"POST",url:"/ajax/newsletter",data:e,success:function(){var b=c.getObj(e,"status","subscribed");a(window).trigger("newsletter.signup",[d,b]),h("THANK YOU! <br class='responsive-linebreak' /> A CONFIRMATION EMAIL HAS BEEN SENT TO <br class='responsive-linebreak' />"+d+"."),clearTimeout(C)},error:function(){h("We're sorry!<br class='responsive-linebreak' /> We're having trouble signing you up for this email.<br class='responsive-linebreak' /> We hope that you'll try again later."),clearTimeout(C)}}),u("email"))}function y(){clearTimeout(C),L=!1;var a=H.val();"Email"===a&&H.val("")}function z(){var b=H.val();""===a.trim(b)&&H.val("Email")}function A(){K=!0}var B,C,D,E,F,G,H,I,J=!1,K=!1,L=!1,M=2,N=null;return{socialID:"#social-follow",emailInput:".email-module--address",followButtons:".social-follow--buttons",init:function(){B=a("body"),I=a(this.socialID),I.length>0&&(I.addClass("ready"),H=a(this.emailInput),F=a(this.followButtons),require(["//platform.twitter.com/widgets.js"],function(){window.twttr.widgets.load(I)})),d(),g.renderShareCounts()},contentIDs:{},contentURLs:{},registerContentBy:function(a,b,c){var d="url"===a?this.contentURLs:this.contentIDs;return d.hasOwnProperty(b)?void d[b].push(c):void(d[b]=[c])},renderShareCounts:function(c){var d,e,f=this;e=c?c.find(".share-count"):a(".share-count").filter(function(){return a(this).parents(".landing-feed-container").length<1}),e.each(function(){var b,c,d=a(this),e=d.closest(".show-aggreggate-count").length>0;d.closest(".share-sticky").length>0&&d.closest(".suppress-left-rail").length>0&&!e||(c=d.data("naytev"),b=d.data("content-id"),c?f.registerContentBy("url",c,d):b&&f.registerContentBy("id",b,d))}),d=b.keys(this.contentIDs),d.length>0&&this.getCountsByID(d.join(","),this.renderCountsByID);for(var g in this.contentURLs)this.getCountsByURL(g,this.createURLCallback(g))},createURLCallback:function(a){var b=this;return function(c){b.renderCountsByURL(a,c)}},getCountsByID:function(b,c){var d=a.ajax({url:"/ajax/shares/"+b+"/"}),e=this;d.done(function(a){c.call(e,a),e.updateCommentText(a)}),d.error(function(a){console.log("Shares.getCountsByID failed with: ",a)})},updateCommentText:function(c){var d;b.each(c,function(a){d=a.comments<=1?window.i18n.t("LANG_JOIN_THE_CONVERSATION"):window.i18n.t("LANG_SEE_THE_CONVERSATION")}),a(".module-comments--toggle-text").data({commentText:d}).text(d)},renderCountsByID:function(a){var c=this;b.each(a,function(a,d){var e=c.contentIDs[d];b.each(e,function(b){c.renderCount(a,b)})})},getCountsByURL:function(a,b){var c=window.naytev||!1;return c?void c("share_count",{url:a,success:b,error:function(a){console.log("Shares.getCountsByURL - naytev failed with: ",a)}}):(console.log("Shares.getCountsByURL - naytev is not defined"),void b({}))},renderCountsByURL:function(a,c){var d=this.contentURLs[a],e=this;b.each(d,function(a){e.renderCount(c,a)})},renderCount:function(a,b){var d,e,f,g=0;if(d=b.data("count"),e=b.data("text"),f="aggregate"===d)for(var h in a)"timestamp"!==h&&(g+=+a[h]);else{if(!a.hasOwnProperty(d))return;g=a[d]}if(!f&&g>0||f&&g>=25){var i=~~c.getObj(window,"HRST.article.formerShareCount");g=n(~~g+i),e=e?g+" "+e:g,b.text(e),this.showCount(b)}else this.emitCountEvent(b)},showCount:function(b){var d=b.closest(".share-module--count"),e=this,f=a(".article-body").hasClass("suppress-left-rail");d.length>0?(c.mq>=c.mqs.desktop&&!f&&d.show(),setTimeout(function(){d.css("display","").addClass("show"),e.emitCountEvent(b)},1e3)):f&&b.parent().contents().filter(function(){return 3===this.nodeType}).remove()},emitCountEvent:function(b){b.closest(".share-module--count").length>0&&a(window).trigger("render.app-share-count")},openShareBar:function(a){a.addClass("active")},closeShareBar:function(a){a.removeClass("active")}}}();return g}),define("modules/Sticky",["jquery","modules/Debounce","modules/Utils","modules/SwipeableNav"],function(a,b,c,d){"use strict";var e=function(){function e(){var b=q.offset(),d=b.top,e=p.outerHeight();n=d,o=d+e,A=a(".nav--primary"),c.mq<c.mqs.desktop?(A.hide(),D=!1):D||(A.show(),D=!0),E&&f()}function f(){E=!0,z.length||(y=a(".breaking-news")),c.mq<c.mqs.desktop?y.insertAfter(q).addClass("static").show():(x.append(y),y.removeClass("static"),m?y.addClass("sticky"):y.hide())}function g(){p.addClass("sticky"),z.length||(y=a(".breaking-news")),E&&y.show().addClass("sup"),r=!1,m=!0}function h(){p.removeClass("sticky"),m=!1,z.length||(y=a(".breaking-news")),c.mq>=c.mqs.desktop&&y.hide(),y.removeClass("sup")}function i(){c.mq>=c.mqs.desktop&&(b.on("scroll","win",j),a(document).on("applyStickyElements",j)),a(window).on("breakpoint-change",e).on("breakingNews:notify",f),A=a(".nav--primary"),a("body").on("touchstart",function(){a(".nav--secondary--link-list").hide(),B.removeClass("active"),B.show()}),C.on("click touchstart",function(a){a.stopPropagation()}),B.mouseenter(function(b){var c=a(this).find("ul");0!==c.length&&(A=a(".nav--primary"),b.stopPropagation(),A.hide(),a(this).addClass("active"),a(this).siblings().removeClass("active"),a(this).index(this)<2&&a(this).nextAll(".nav--secondary--item").hide(),c.fadeIn("400"))}),B.on("mouseleave",function(){var b=a(this).find("ul");b.length&&(A=a(".nav--primary"),A.fadeIn("400"),a(".nav--secondary--link-list").hide(),B.removeClass("active"),B.show())})}function j(b){b=b.currentScroll?b.currentScroll:b,Modernizr.ie&&(b=a(document).scrollTop());var d=b-l;if(l=b,0>=b&&m)return void h();if(d>0&&!F.isOpen&&c.mq<c.mqs.desktop&&m)h();else if(d>0&&c.mq>=c.mqs.desktop&&b>n&&!F.isOpen&&!m&&G)g();else if(d>0&&b>o&&c.mq<c.mqs.desktop&&!r)r=!0,h();else if(0>d&&!m&&!F.isOpen&&b>=n&&G)g();else{if(!(n>=b&&m))return;h()}}function k(){if("ajax"===s){var b=a.ajax({type:"GET",url:"/ajax/nav-bar/",dataType:"html"});b.done(function(b){A.replaceWith(b),a(".swipeable-nav").length&&d.constructFromNav()}),b.fail(function(a,b,c){A.show(),console.log(a.responseText,b,c)}),b.always(function(){a(".nav--primary").fadeIn(),D=!0,a(window).trigger("render.app.nav-bar")})}}var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F={left:0,isOpen:!1},G=!0;return{init:function(){HRST.hasOwnProperty("article")?HRST.article.hasOwnProperty("template")&&"gallery"===HRST.article.template&&(G=!1):"gallery"===a("body").attr("id")&&(G=!1),p=a(".nav"),q=a("#sticky-wrap"),q.length<1||(q.height(p.outerHeight()),x=a(".nav--dynamic-content"),z=a("[data-nice-object-id='breakingNews']"),y=a(z.length?"[data-nice-object-id='breakingNews']":".breaking-news"),x.append(y),A=a(".nav--primary"),B=a(".nav--secondary--item"),C=a(".nav--secondary--link"),s=A.data("type"),A.hide(),D=!0,l=0,m=!1,n=0,o=0,t=.3,u=p.outerHeight(),v="ease",w=0,i(),k(),Modernizr.touch||(e(),a(window).on("sidePanel:notify",function(a){F=a,!F.isOpen&&m&&setTimeout(function(){g()},300)})))}}}();return e}),define("modules/Modal",["jquery","modules/Debounce","modules/Video"],function(a,b,c){"use strict";var d=function(b){this.el=a(b),this.overlay=this.el.parents(".modal-overlay"),this.$html=a("html"),this.$body=a("body"),this.$window=a(window),this.bodyOffset=0;var c=a(".js-modal-show[data-modal-id='"+this.el.attr("id")+"']");c.on("click",function(b){this.el.trigger("show.app.modal");var c=a(b.target).closest(".js-modal-show");a.event.trigger({type:"render.app.modal-trigger-click",item:c}),c.hasClass("js-modal-autopopulate")&&(a(".js-modal-show").removeClass("active-trigger"),c.addClass("active-trigger"),d.autopopulate(c))}.bind(this)),this.el.on("click",".modal-dir",function(b){var c=a(b.target);c.hasClass("modal-prev")?d.navigate("prev"):c.hasClass("modal-next")&&d.navigate("next")}.bind(this)),this.el.find(".js-modal-hide").on("click",function(){this.el.trigger("hide.app.modal")}.bind(this)),this.overlay.on("click",function(b){var c=a(b.target);(b.target===this.overlay.get(0)||c.closest(".modal-close").length>0||c.closest(".modal-filter--cancel").length>0)&&this.el.trigger("hide.app.modal")}.bind(this)),this.el.on("show.app.modal",function(){this.show()}.bind(this)),this.el.on("hide.app.modal",function(){this.hide(),a(".js-modal-clear").empty()}.bind(this)),this.el.on("center.app.modal",function(){this.center()}.bind(this)),this.$window.on("resize",function(){var a=this.$window[0].innerWidth;this.overlay.width()!==a&&this.overlay.width(a),this.center()}.bind(this)),this.center()};return d.prototype.show=function(){this.$html.addClass("no-scroll"),a(".js-modal-show[data-modal-id='"+this.el.attr("id")+"']").addClass("modal-active-triggers"),this.el.addClass("modal-active"),this.overlay.fadeIn(300,function(){this.$html.hasClass("touch")&&(this.bodyOffset=this.$body.scrollTop(),this.$body.css("position","fixed"))}.bind(this))},d.prototype.hide=function(){this.overlay.fadeOut(300),this.$body.css("overflow","visible").css("overflow-x","hidden"),this.$html.removeClass("no-scroll"),a(".modal-active-triggers").removeClass("modal-active-triggers"),this.el.removeClass("modal-active"),this.$html.hasClass("touch")&&(this.$body.css("position","relative"),this.$window.scrollTo(this.bodyOffset))},d.prototype.center=function(){if(!this.el.hasClass("modal-autoposition")){var a=this.overlay.is(":hidden");a&&this.overlay.show();var b=this.el.width(),c=this.el.height();if(a&&this.overlay.hide(),b>0&&c>0){var d=(this.$window.height()-c)/2,e=(this.$window.width()-b)/2;this.el.animate({left:e+"px",top:d+"px"},200)}}},d.navigate=function(b){if(a(".modal-active").hasClass("modal-navigable")){var c,e=a(".modal-active-triggers"),f=e.filter(".active-trigger");"prev"===b?c=0===f.index()?e.last():f.prev():"next"===b&&(c=f.index()===e.length-1?e.first():f.next()),e.removeClass("active-trigger"),c.addClass("active-trigger"),d.autopopulate(c)}},d.autopopulate=function(b){var d;try{d=a.parseJSON(b.attr("data-modal-content"))}catch(e){console.warn(e)}var f,g=a("#"+b.attr("data-modal-id")),h=d["modal-type"],i=g.find(".modal-image-share"),j=b.find(".modal-thumb-share"),k=g.find(".modal-image"),l=g.find(".modal-video");if(g.length){for(var m in d){var n=g.find("."+m);if(d.hasOwnProperty(m)&&d[m].dest&&n.length)switch(d[m].dest){case"html":if(n.empty(),d[m].content)n.html(d[m].content);else{var o=a("<div />").html(b.attr("data-"+m)).html();n.html(o)}break;case"class":n.removeClass(d[m].remove).addClass(d[m].content);break;default:n.attr(d[m].dest,d[m].content)}}"modal-type-video"===h?(k.attr("src",""),f=l.find("iframe"),f.attr("src",f.data("src")).attr("data-autoplay","true").video({container:".modal-content-container"},!0),f.on("videoReady",function(b,d,e){"gopher"===e&&(f.data("autoplay")&&c.getPlayerById(f.attr("id")).playVideo(),a(".modal-content-container").on("scroll",function(){c.handleScroll()}))})):(l.empty(),j.length&&(i.empty(),j.clone().appendTo(i)))}},a(document).on("keydown",function(a){37===a.keyCode?d.navigate("prev"):39===a.keyCode&&d.navigate("next")}),{init:function(b){var c=a(".modal");return"undefined"!=typeof b?new d(b):void(c.length&&c.each(function(a,b){new d(b)}))}}}),define("modules/Embeds",["jquery","iFrameResize","modules/Utils","modules/Debounce","modules/SlideshowFactory"],function(a,b,c,d,e){"use strict";return{embedSelector:".embed:not(.embed--loaded)",scrollBuffer:500,embedsToLoad:a(),supportedTemplates:["article","content-stream","featured-article","standard-article","longform-article","gallery","listicle"],providers:{facebook:{selector:".embed--facebook",resource:"//connect.facebook.net/en_US/sdk.js",callback:function(){var b,c;b=a("meta[property='fb:app_id']").prop("content"),c=window.FB,c.init({appId:b,version:"v2.3",xfbml:!0})}},vine:{selector:".embed--vine",resource:"//platform.vine.co/static/scripts/embed.js",callback:function(a){this.loadIframe(a)}},instagram:{selector:".embed--instagram",resource:"//platform.instagram.com/en_US/embeds.js",callback:function(){window.instgrm.Embeds.process()}},pinterest:{selector:".embed--pinterest",resource:"//assets.pinterest.com/js/pinit.js",callback:function(){window.parsePin()}},twitter:{selector:".embed--twitter",resource:"//platform.twitter.com/widgets.js",callback:function(a){a.find("blockquote").addClass("twitter-tweet"),window.twttr.widgets.load(a.get(0))}},ndn:{selector:".ndn_embed",resource:"//launch.newsinc.com/js/embed.js"},quizatious:{selector:"#HMQuiz-iframe",callback:function(){b({},document.getElementById("HMQuiz-iframe"))}},modiface:{selector:"#iframe-modiface",callback:function(){b({heightCalculationMethod:"lowestElement"},document.getElementById("iframe-modiface"))}},polar:{selector:".embed--polar",resource:"//assets-polarb-com.a.ssl.fastly.net/assets/polar-embedded-standalone.js",callback:function(a){var b=a.find(".embed--inner"),c=new window.EmbeddedPollsApp(b,b.data());c.init()}},youtube:{selector:".embed--youtube",resource:"//www.youtube.com/player_api",callback:function(a){var b=a.find("iframe");b.video(),this.loadIframe(b)}},gopher:{selector:".embed--gopher",callback:function(a){this.providers.youtube.callback.bind(this)(a)}},ceros:{selector:".embed--ceros",resource:["//view.ceros.com/scroll-proxy.min.js","//creative-services.ceros.com/customer-success/varying-embed-tag-generator/embedded-variant-switcher-v2.min.js"]},tumblr:{selector:".embed--tumblr",resource:"//secure.assets.tumblr.com/post.js"}},bindEventHandlers:function(){a(window).on("render.app.gpt-ads",this.handleGPTRender.bind(this)),d.on("scroll","embeds",this.handleScroll.bind(this))},reset:function(){this.embedsToLoad=a(),a(window).off("render.app.gpt-ads",this.handleGPTRender.bind(this)),d.off("scroll","embeds")},handleScroll:function(b){var c=window.innerHeight,d=b+c+this.scrollBuffer;this.embedsToLoad.each(function(b,c){return this.checkEmbed(a(c),d)}.bind(this)),this.embedsToLoad=this.embedsToLoad.not(".embed--loaded")},checkEmbed:function(a,b){var c=!1;return b>=a.offset().top&&(this.loadEmbed(a),c=!0),c},getProvider:function(a){var b,c;for(var d in this.providers)if(c=this.providers[d].selector,a.is(c)||a.find(c).length>0){b=this.providers[d];break}return b},loadEmbed:function(b){var c,d;return b.addClass("embed--loaded"),(c=this.getProvider(b))?(d=a.isFunction(c.callback)?c.callback.bind(this):a.noop,void(c.resource&&!c.loaded?require(a.isArray(c.resource)?c.resource:[c.resource],function(a){c.module&&(c.module=a),c.loaded=!0,d(b)}):d(b))):void this.loadIframe(b)},loadIframe:function(b){var c=b.is("iframe")?b:b.find("iframe");c.each(function(){var b=a(this),c=b.data("src");c&&c!==b.attr("src")&&b.attr("src",c)})},handleGPTRender:function(b,c){var d=c.getSlotId(),e=a(document.getElementById(d.getDomId()));this.isDesktopBodyAd(e)&&this.adjustElementsAroundAd(e)},checkEarlyAds:function(){for(var b,c=window.gptLayer||[],d=c.adSlots||[],e=0,f=d.length;f>e;e++)d[e].rendered&&(b=a(document.getElementById(d[e].id)),this.isDesktopBodyAd(b)&&this.adjustElementsAroundAd(b))},isDesktopBodyAd:function(a){return c.mq>=c.mqs.desktop&&a.closest(".article-body--text").length>0},adjustElementsAroundAd:function(b){for(var c,d,e=b.closest(".ad-gpt-main"),f=e.nextAll(),g=e.offset().top+e.outerHeight(!0),h=0,i=0,j=f.length;j>i&&!(h>=g);i++)d=f.eq(i),c=d.offset().top,(c>=h||"none"===d.css("display"))&&(d.addClass("float-with-ad"),c=d.offset().top),h=c+d.outerHeight();a(window).trigger("render.app.body-change")},registerEmbeds:function(b){void 0===b&&(b=a("body"));var c=a(this.providers.modiface.selector);c.length&&(c.closest("p").replaceWith(c),this.embedsToLoad=this.embedsToLoad.add(c)),this.embedsToLoad=this.embedsToLoad.add(b.find(this.embedSelector));for(var d=a(".slideshow-module"),f=0,g=d.length;g>f;f++)e.generate(d.eq(f))},isSupportedTemplate:function(){var b=a("body").attr("id");return this.supportedTemplates.indexOf(b)>-1},init:function(){this.isSupportedTemplate()&&(this.checkEarlyAds(),this.bindEventHandlers(),this.registerEmbeds(),this.handleScroll(window.pageYOffset))}}}),define("modules/LandingFeed",["jquery","underscore","modules/Utils","modules/Debounce","modules/Images"],function(a,b,c,d,e){"use strict";var f=function(){function b(){var a,b={};return r.find(".search-page").length?b:(a=r.find(".page").last().data(),b.template=a.template||"homepage",b.landingTemplate=a.landingtemplate||"standard",a.id&&(b.id=a.id),a.sectionid&&(b.sectionID=a.sectionid),a.subsectionid&&(b.subsectionID=a.subsectionid),a.tagname&&(b.tagName=a.tagname),a.tagtypeid&&(b.tagTypeID=a.tagtypeid),b)}function g(){C?j():d.on("scroll","landing-feed",h),p.on("click",function(b){D||(a("#load-more").find(".load-more-label").text(a.t("LANG_LOADING_MORE_STORIES")),a(this).addClass("active"),i(o,b))}),d.on("resize","landing-resize",l)}function h(a){var b=a-A;A=a,0>b||z>a||a>=z&&(!D&&3>B&&!C?i(o):3===B&&d.off("scroll","landing-feed"))}function i(c,d){var g=d;D=!0,++E;var h,i="/landing-feed/",l="#page-"+E,m=a(".landing-feed-container"),n=m.data("template"),o=m.data("feedtime"),s="recipes"===n||"products"===n;if(h=b(),h.pageNumber=E,o&&(h.feedTime=o),"search"!==a("body").data("display")){s&&(i="/landing-feed-special/");var t=a.ajax({type:"GET",url:i,data:h,dataType:"html",beforeSend:function(){3>B&&(p.addClass("active"),q.text(a.t("LANG_LOAD_MORE_STORIES")))}});t.done(function(b){b?(r.append(b),B++,B>2&&(""!==b.trim()?j():k()),a(document).trigger("load.app.landingfeed",{url:this.url})):p.remove()}),t.fail(function(a,b,c){k(),console.log(a.responseText,b,c)}),t.always(function(){a(l).addClass("visible"),a(l).addClass("ajaxed"),p.removeClass("active"),"undefined"!=typeof g&&"click"===g.type&&a(l).addClass("animate");var b=a(l).find(".lazy-image");e.doImageSwaps(b),e.setupLazyImages(b),D=!1,f.updateLowestY(),a("#load-more").find(".load-more-label").text(a.t("LANG_LOAD_MORE_STORIES"))})}}function j(){p.removeClass("active").addClass("static")}function k(){d.off("scroll","landing-feed"),p.remove()}function l(){t.length&&(v.length&&(c.mq<c.mqs.tablet&&"mobile"!==F?(v.insertAfter(t.eq(0)),F="mobile"):c.mq>=c.mqs.tablet&&"tablet"!==F&&(v.insertAfter(t.eq(t.length-1)),F="tablet")),c.mq>=c.mqs.tablet&&!G?n(!0):c.mq<c.mqs.tablet&&G&&n(!1))}function m(){w.addClass("sandbox_database_object"),w.on("click",function(a){a.preventDefault(),s.click()})}function n(b){b?(x.each(function(){c.truncate(a(this),H)}),y.each(function(){c.truncate(a(this),I)}),G=!0):(x.each(function(){c.detruncate(a(this))}),y.each(function(){c.detruncate(a(this))}),G=!1)}var o,p,q,r,s,t,u,v,w,x,y,z=0,A=0,B=0,C=!1,D=!1,E=1,F="mobile",G=!1,H=55,I=65;return{updateLowestY:function(){z=.8*a(".landing-feed-container").height()-a(window).height()},init:function(){p=a("#load-more"),q=p.find(".load-more-label"),r=a(".landing-feed-container"),o=a(window),v=a(".landing-seo--container"),t=a(".standard .landing-feed--header .landing-feed--story"),w=a(".standard .landing-feed--header"),u=a(".header-story"),x=u.find(".landing-feed--story-title"),y=u.find(".abstract-text"),s=a("[data-object-template='sandbox/pinned-feed']"),0===r.length||a("#transporter").length||(this.updateLowestY(),g(),w.length&&s.length&&m(),w.length&&c.mq>=c.mqs.desktop&&n(),c.mq>=c.mqs.tablet&&t.length&&l())}}}();return f}),define("modules/SearchSuggest",["jquery","underscore","modules/Utils"],function(a,b,c){"use strict";var d=function(){function b(){return Q=I.val(),R=I.attr("content_type"),ca=Q.charAt(0),1===Q.length&&Y.test(ca)?(k(),!1):void(Q.length?(Q.match(/\s{2,}/g)&&I.val(l(Q)),P=new RegExp(g(Q),"i"),v(),d()):k())}function d(){V=Q,ea===!1&&(ea=setTimeout(e,250))}function e(){W?W!==V&&f():f(),ea=!1,W=V}function f(){var b={autocomplete:Q};R&&(b.content_type=R),a.ajax({url:$,data:b}).done(function(b){if(0===b.length)return void u();b=j(b),ba="",aa=!1,b=h(b);var c=b[0];c.match(/\s{2,}/g)&&(c=l(c)),i(b),a(ba+" li").length>0&&t(S,ba),void 0===c?u():aa===!0&&(c=c.replace(P,Q))})}function g(a){return a.replace(/[-[\]{}()*+?.%&,\\^$|#\s]/g,"\\$&")}function h(b){b=a.map(b,function(a){return a.toLowerCase()});for(var c=0;c<b.length;c++){var d=b[c];d.match(/\s{2,}/g)&&(d=l(d)),O=d.substr(0,Q.length),O===Q&&(ga.push(d),aa=!0)}return a.grep(b,function(b){-1===a.inArray(b,ga)&&fa.push(b)}),b=a.merge(ga,fa),ga=[],fa=[],b}function i(a){for(var b=0;b<a.length;b++){var c="/search/"+w(a[b]);R&&(c+="?f__content_type="+R);var d=a[b].replace(P,"<span>"+Q+"</span>");ba+='<li><a href="'+c+'" class="link link-txt" data-query="'+c+'">'+d+"</a></li>"}}function j(b){return N=a.unique(b.toString().toLowerCase().split(","))}function k(){I.val(""),W="",m(a.t(ha[0])),u(),M.hasClass("active")&&setTimeout(u(),100)}function l(a){return a.replace(/\s{2,}/g," ")}function m(b){b=b||"",a(".search-label").val("").text(b)}function n(){r(),K.length&&(K.hasClass("highlight")?a(".highlight").removeClass("highlight").next().addClass("highlight"):K.eq(0).addClass("highlight"),-1===a(".highlight").index()&&K.eq(0).addClass("highlight"),s(H))}function o(){r(),K.hasClass("highlight")&&(a(".highlight").removeClass("highlight").prev("li").addClass("highlight"),-1===a(".highlight").index()&&K.eq(N.length-1).addClass("highlight"),s(H))}function p(){r(),K.removeClass("highlight"),K.eq(0).addClass("highlight"),s(H)}function q(b){if(b.preventDefault(),0!==T.length&&" "!==T&&void 0!==S){a(".highlight").length>0&&(_=a("#"+S).val(a(".highlight").text()),
a("#"+S).text(_));var c="/search/"+w(T),d=a("search-results"===S?"#search-results-form":"#search-layer-form");d.attr("action",c).submit()}}function r(){H=a("input:focus"),K=a(".auto-complete-suggest:visible li")}function s(b,c){c=c||a(".highlight").text()||"",_=b.val(c),b.text(_)}function t(b,c){var d=a("#search-page-box");"search-text"===b?(F.find(M).html(c).addClass("active"),F.find(L).css("display","block")):(d.find(M).html(c).addClass("active"),d.find(L).css("display","block"))}function u(){M.empty().removeClass("active"),L.hide()}function v(){return c.mq<c.mqs.tablet?void m():void(c.mq>=c.mqs.tablet&&m(a.t(ha[1])))}function w(a){return encodeURIComponent(encodeURIComponent(a.replace(/\./g," ")))}function x(b){T=a("#"+S).val(),I=a(b.currentTarget),S=I.attr("id"),I.tabIndex="1"}function y(){E.removeClass("noScroll"),E.scrollTop(da),F.removeClass("search-overlay-show"),G.length>0&&G.text(G.val()),J.blur(),u(),document.ontouchmove=function(){return!0}}function z(){F.addClass("search-overlay-show"),da=a(window).scrollTop(),/iP(hone|od|ad)/.test(Z)?(u(),J.focusin(function(){F.css({position:"absolute"})}).focusout(function(){F.css({position:"fixed"})}),c.mq>c.mqs.mobile_w&&(document.ontouchmove=function(a){a.preventDefault()}),F.ontouchmove=function(a){a.stopPropagation()}):E.addClass("noScroll"),m(a.t(ha[0])),a("#search-text").val("").text("Search").focus()}function A(a){a.preventDefault(),J.blur()}function B(){L.hide(),u(),X.length&&G.val("")}function C(){var c=a(".nav--open-search"),d=a(".search-layer-close");Modernizr.touch?(c.hammer().on("tap",z),d.hammer().on("tap",y),L.hammer().on("tap",B)):M.on("mouseover",A),c.on("click",z),d.on("click",y),L.on("click",B),X.length&&X.on("click",q),J.on("keydown",x).on("change input",b),a("document, input").bind("keydown","down",n).bind("keydown","up",o).bind("keydown","right",p).bind("keydown","return",q)}function D(){E=a("body"),J=a(".search-text"),G=a("#search-results"),F=a("#search-overlay"),M=a(".auto-complete-suggest"),L=a(".suggestions-close"),U=G.val(),X=a("#mini-bar-search")}var E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y=/(\s)/,Z=window.navigator.userAgent,$="/ajax/autosuggest/",_="",aa=!1,ba="",ca="",da=0,ea=!1,fa=[],ga=[],ha=["LANG_TYPE_TO_SEARCH","LANG_PRESS_ENTER_TO_SEARCH","LANG_PRESS_ENTER_OR_SELECT_ONE_OF_THE_SUGGESTIONS_BELOW_TO_SEARCH"];return{init:function(){D(),C()}}}();return d}),define("modules/Video",["jquery","modules/Debounce"],function(a,b){"use strict";var c=function(){function d(){for(var a=0,b=g.length;b>a;a++)c.registerPlayer(g[a],"youtube");g=[]}function e(b){var c="state",d=b.data,e=b.target,g=e.getVideoData().video_id,k=e.id,l=h[k];switch(d){case j.PLAYING:c="play",f(k);break;case j.PAUSED:c="pause",l.pausedInview=l.inview;break;case j.ENDED:c="ended"}i=d===j.PLAYING?!0:!1,a(window).trigger({type:"render.app.video."+c,videoId:g,id:k})}function f(a){for(var b in h){var c=h[b];c.id!==a&&c.getPlayerState()===j.PLAYING&&c.pauseVideo()}}var g=[],h={},i=!1,j={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};return{init:function(){a.fn.video=function(a,b){var d=this.attr("src")||this.attr("data-src"),e=d.indexOf("youtube")>=0?"youtube":"gopher";return c.registerPlayer(this,e,a,b)},window.onYouTubeIframeAPIReady=d,window.addEventListener("message",this.gopherEvents),b.on("scroll","videos",this.handleScroll.bind(this))},handleScroll:function(){var a=.3;for(var b in h){var c,d=h[b],e=d.getIframe(),f=this.calculateVisibility(e,d.container);d.range&&(a=d.range);try{c=d.getPlayerState()}catch(g){}f>a?this.playerInView(d,c,e.dataset.autoplay):this.playerOutView(d,c)}},calculateVisibility:function(b,c){var d,e,f,g,h,i=0,j=0,k=b.offsetWidth,l=b.offsetHeight,m=b;for(h=a(c?c:window);m&&m!==document.body;)i+=m.offsetLeft,j+=m.offsetTop,m=m.offsetParent;return d=i+k,e=j+l,f=Math.max(0,Math.min(k,h.scrollLeft()+h.height()-i,d-h.scrollLeft())),g=Math.max(0,Math.min(l,h.scrollTop()+h.height()-j,e-h.scrollTop())),f*g/(k*l)},playerInView:function(a,b,c){var d=!a.inview||b!==j.PLAYING&&b!==j.ENDED;c&&d&&!i&&!a.pausedInview&&a.playVideo(),a.inview=!0},playerOutView:function(a,b){if(b===j.PLAYING)try{a.pauseVideo()}catch(c){}else b===j.PAUSED&&a.inview&&(a.pausedInview=!0);a.inview=!1},checkYT:function(a){var b=!1;return window.YT&&YT.loaded?b=!0:g.push(a),b},gopherPlayer:function(a,b){var c=function(){var c=document.getElementById(a),d=j.UNSTARTED;return{stateChange:b.events.onStateChange,getIframe:function(){return c},getVideoData:function(){return{video_id:c.dataset.id}},setPlayerState:function(a){d=a},getPlayerState:function(){return d},playback:function(b){var d="hdsPlayerPlayback:::"+b;h.hasOwnProperty(a)&&h[a].ready&&c.contentWindow.postMessage(d,"*")},playVideo:function(){this.playback("play")},pauseVideo:function(){this.playback("pause")}}}();return c},gopherEvents:function(b){if(b.origin.indexOf("hearstdigitalstudios")>=0){var c,d=b.data.split(":::"),e=d[0],f=d[1],g={hdsPlayerReadyState:!0,hdsPlayerPlayBackComplete:j.ENDED,hdsPlayerPlayState:j.PLAYING,hdsPlayerPauseState:j.PAUSED};if(e in g){var h=a("[data-id='"+f+"']");c=h.video(),"hdsPlayerReadyState"===e?(c.ready=!0,h.trigger("videoReady",[f,"gopher"])):c.ready&&(c.setPlayerState(g[e]),c.stateChange({data:g[e],target:c}))}}},getPlayerById:function(a){return h[a]},registerPlayer:function(b,c,d,f){var g,i,j,k,l=b,m={events:{onStateChange:e}};if(l&&("youtube"!==c||this.checkYT(l)))return l.attr("id")||l.attr("id","player_"+(new Date).getTime()),g="youtube"===c?YT.Player:this.gopherPlayer,k=l.attr("id"),i=d?a.extend(m,d):m,!h[k]||f?j=a.extend(new g(k,i),i,{id:k}):d&&(j=a.extend(h[k],d)),j&&(h[k]=j),h[k]}}}();return c}),define("modules/VideoLogo",["jquery"],function(a){"use strict";var b=function(){function b(){a(".deferred-video[rel]").each(function(){a(this).attr("src",a(this).attr("rel")).removeAttr("rel")}),e.load()}function c(){d.fadeIn()}var d,e;return{init:function(){d=a(".header-background"),e=a(".header-background--video"),d.length>0&&!window.Modernizr.touch&&(e.one("playing",c),b())}}}();return b}),define("modules/Newsletter",["jquery","modules/Utils"],function(a,b){"use strict";var c=function(){var d;return{newsletterClass:".newsletter--container",formClass:".newsletter--form",inputClass:".newsletter--input",successEmail:".newsletter--success-email",init:function(){d=a(this.formClass),d.length&&this.bindEventHandlers()},bindEventHandlers:function(){d.on("click blur focus",this.inputClass,this.inputHandler.bind(this)).on("submit",this.submitHandler.bind(this))},inputHandler:function(b){var c=a(b.currentTarget),d=c.closest(this.newsletterClass),e=b.type;("click"===e||"focusin"===e)&&d.removeClass("error")},successHandler:function(c,d,e){if(c&&c.length){var f=c.find(this.successEmail),g="success",h=b.getObj(e,"status","subscribed");"already subscribed"===h?g+=" subscribed":f.length&&f.text(d),c.removeClass("error").addClass(g),a(window).trigger("newsletter.signup",[d,h])}},submitHandler:function(b){var d=a(b.currentTarget),e=d.closest(this.newsletterClass),f=d.attr("action"),g=d.find(this.inputClass).val();return c.validateEmail(g)?f.indexOf("ajax")>=0?(a.post(f,{email:g},function(a){this.successHandler(e,g,a)}.bind(this)),!1):void this.successHandler(e,g):(e.addClass("error"),!1)},validateEmail:function(a){var b=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)}}}();return c}),define("modules/NavFeed",["jquery","modules/Utils","modules/Images"],function(a,b,c){"use strict";var d=function(){function e(){a(".nav-feed--control").on("click",".nav-feed--open",function(){d.openFeed()}).on("click",".nav-feed--close",function(){d.closeFeed()}),a(".nav-feed").on(A,".nav-feed--container",function(){x=!1}),a(".nav-feed--container").on(A,".nav-feed--frame",function(){x=!1}),a(".nav-feed--pagination").on("click",".icon-arrow-up01",function(){g("up")}).on("click",".icon-arrow-down01",function(){g("down")}),a(".nav-feed--pagination").on("click",".pagination-circle",function(){var b=a(this).index(".pagination-circle");j!==b+1&&h(b)})}function f(){var c=a.ajax({type:"GET",url:"/ajax/breaking-news/",dataType:"html"});c.done(function(a){a&&q.replaceWith(a)}),c.fail(function(a,b,c){q.hide(),console.log(a.responseText,b,c)}),c.always(function(){return q=a(".breaking-news"),r=q.data("type"),z=q.data("target"),""===z||"undefined"==typeof z?void q.remove():(a(".breaking-news").on("click",function(){b.setCookie("news",z,1)}),void(""!==y&&"undefined"!=typeof y&&y===z?q.remove():a(window).trigger(w)))})}function g(b){if(x=!0,"up"===b){if(!(j>1))return void(j=1);j--,l=j+1,1===j&&o.addClass("inactive"),n.removeClass("inactive"),m.removeClass("active"),m.eq(j-1).addClass("active"),a(".previous-page").addClass("down"),a(".current-page").addClass("down")}if("down"===b){if(!(j<p.length))return void(j=p.length);j++,k=j-1,j===p.length&&n.addClass("inactive"),o.removeClass("inactive"),m.removeClass("active"),m.eq(j-1).addClass("active"),a(".current-page").addClass("up"),a(".next-page").addClass("up")}setTimeout(function(){i()},500)}function h(b){var c=b+1,d="up";c>j?(d="down",j=b,a(".next-page").html(p[b])):(d="up",j=c+1,a(".previous-page").html(p[b])),0===b?j=2:b===p.length-1&&(j=p.length-1),setTimeout(function(){g(d)},10)}function i(){var b=j-1,c=b-1,d=b+1;a(".previous-page").html(p[c]),a(".current-page").html(p[b]),a(".next-page").html(p[d]),a(".previous-page").removeClass("down"),a(".current-page").removeClass("up").removeClass("down"),a(".next-page").removeClass("up").removeClass("down")}var j,k,l,m,n,o,p,q,r,s,t,u,v=window.Modernizr,w=a.Event("breakingNews:notify"),x=!1,y="",z="",A={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[v.prefixed("transition")];return{init:function(){v.touch||(s=!1,j=1,q=a(".breaking-news"),r=q.data("type"),t=a("[data-nice-object-id='breakingNews']"),p=a(".nav-feed--page"),m=a(".pagination-circle"),o=a(".icon-arrow-up01"),n=a(".icon-arrow-down01"),a(".current-page").append(a("[data-page=1]")),a(".next-page").append(a("[data-page=2]")),u=a(".nav-feed--page").find("img"),y=b.getCookie("news"),f(),e())},openFeed:function(){c.doImageSwaps(u),c.loadImages(u),x||(a(".nav-feed--container").addClass("open"),a(".nav-feed--open").hide(),a(".nav-feed--close").css("display","table-cell"),x=!0,s=!0)},closeFeed:function(){x||(a(".nav-feed--container").removeClass("open"),a(".nav-feed--close").hide(),a(".nav-feed--open").css("display","table-cell"),x=!0,s=!1),x=!1},getStatus:function(){return s}}}();return d}),define("modules/SeoRelated",["jquery","modules/Utils"],function(a,b){"use strict";var c=function(){var c;return{init:function(){c=a(".view-related"),c.length<1||(a(c).on("click",function(){b.mq>=b.mqs.desktop||(a(".expand").toggleClass("collapse"),a(".slide-back").toggleClass("slide"))}),a(".related-stories").length>0&&a(".footer--links").removeClass("no-related-links"))}}}();return c}),define("modules/StyleGuide",["jquery","modules/Utils"],function(a,b){"use strict";var c=function(){function c(){a(".sg-mode-toggle").on("click",function(){b.mq<980&&i.hide(),f.toggleClass("alt-mode")})}function d(){a(".sg-menu-toggle").on("click",function(){i.slideToggle()})}function e(){a(".sg-nav--primary--link").on("click",function(c){c.preventDefault(),b.mq<980&&i.slideUp();var d=a(this),e=d.data("section");a("html, body").animate({scrollTop:a(e).offset().top-h},1e3)})}var f,g,h,i;return{init:function(){f=a(".styleguide"),g=a(".sg-nav"),h=g.height(),i=a(".sg-nav--dynamic-content"),f.length&&(c(),d(),e())}}}();return c}),define("modules/GridGuide",["jquery"],function(a){"use strict";var b=function(){function b(){a(document).bind("keydown","ctrl+shift+g",function(){if(0===a(".grid-guide-vert").length){for(var b=a("<div class='grid-guide grid-guide-vert'></div>"),c=a("<div class='grid-guide-vert-inner'></div>"),d=24,e=0;d>e;e++)c.append("<div class='grid-guide-col'></div>");b.append(c),a(".site-wrapper").after(b)}else a(".grid-guide-vert").toggle()}),a(document).bind("keydown","ctrl+shift+h",function(){if(0===a(".grid-guide-horiz").length){for(var b=a("body"),c=a("<div class='grid-guide grid-guide-horiz'></div>"),d=b.height(),e=b.css("line-height"),f=0;d>f;)a("<div/>",{"class":"grid-guide-row",style:"margin-bottom:"+e,height:e}).appendTo(c),f+=2*parseInt(e,10);a(".site-wrapper").after(c)}else a(".grid-guide-horiz").toggle()})}return{init:function(){b()}}}();return b}),define("modules/Metrics",["jquery","modules/Utils"],function(a,b){"use strict";var c=function(){function c(){f.on("click",d),a(document).on("load.app.landingfeed, load.app.top-pathing",e)}function d(b){var c,d,e,f,g,h=a(b.currentTarget);c=h.parent().data("tracking-id"),d=h.closest(".landing-feed--story-container").find(".landing-feed--story-title"),e=c.substr(13),g=h.closest(".share-module"),g.length||(g=h.closest(".share-slide-image")),g.length&&(g=g.data("share-location"),f={networkName:e,articleId:h.parent().data("content-id"),articleUrl:d.attr("href"),articleTitle:d.text(),shareLocation:g},a(window).trigger("share.app."+e,f))}function e(){var c=a(".tracking-pixel");c.not(".tracking-pixel--loaded").each(function(){var c=a(this),d=c.data("src");d=d.replace(/\[timestamp\]/i,b.getCacheBust()),c.attr("src",d).addClass("tracking-pixel--loaded")})}var f;return{init:function(){f=a("a.share-button--link"),c(),e()},loadTrackingPixels:e}}();return c}),define("modules/LiveCast",["jquery","modules/Utils"],function(a,b){"use strict";function c(){var b=[],c=[],d=a("#player").attr("data-video-id").split(",");a.each(d,function(d,e){var f=e.indexOf("::autoplay"),g={};return f>0?(g.id=e.substr(0,f),g.autoplay=!0):(g.id=e,g.autoplay=!1),navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(a("#livecast-thumb, #custom-promo--livecast-container .icon-play").css({"pointer-events":"none"}),m.playerOptions.videoId=g.id,g.autoplay=!1,b.push(g),!1):(c.push(g.id),void b.push(g))}),m.playlistItems=b,m.playlist=c}function d(){a.each(j.YouTubePlayers,function(){window[this.playerReference]=new l.Player(this.DOMElement,this.playerOptions),k=window.COSHPYTPlayer})}function e(){var c=["desktop","desktop_w"].indexOf(b.getMq())>-1,d=j.YouTubePlayers.COSHPYTPlayer.playlistItems[0].autoplay,e=j.YouTubePlayers.COSHPYTPlayer.playlistItems;c?d?(a("#livecast-thumb, #custom-promo--livecast-container .icon-play").css("display","none"),f(e)):a(".custom-promo .custom-promo--livecast #livecast-thumb, #custom-promo--livecast-container .icon-play").click(function(){a("#livecast-thumb, #custom-promo--livecast-container .icon-play").css("display","none"),f(e)}):g(e),h()}function f(a){var b="loadPlaylist",c=a;1===a.length&&(b="loadVideoById",c=a[0].id),k[b](c)}function g(a){var b="cuePlaylist",c=a;1===a.length&&(b="cueVideoById",c=a[0].id),k[b](c)}function h(){var b=/MSIE\s([\d]+)/,c=navigator.userAgent,d=c.match(b),e=a("html").hasClass("ie9"),f=a("html").hasClass("lt-ie9");(d||e||f)&&(a("#livecast-thumb").css({"pointer-events":"auto"}),a(".custom-promo .custom-promo--livecast #livecast-thumb").click(function(){a("#livecast-thumb").hide()}))}function i(b){(b.data===l.PlayerState.PLAYING||b.data===l.PlayerState.BUFFERING)&&a("#livecast-thumb, #custom-promo--livecast-container .icon-play").css("display","none")}var j={};j.YouTubePlayers={};var k,l,m={},n=function(){return{init:function(){a("#player[data-video-id]").length&&(a("#custom-promo--livecast-container img").attr("id","livecast-thumb"),require(["https://www.youtube.com/iframe_api"],function(){l=window.YT,window.playerObject={playerReference:"COSHPYTPlayer",DOMElement:"player",playerOptions:{height:"360",width:"720",playerVars:{html5:1},events:{onReady:e,onStateChange:i}}},m=window.playerObject,c(),j.YouTubePlayers[m.playerReference]=m,k=window.COSHPYTPlayer}),setTimeout(function(){var a=setInterval(function(){d(),l.Player&&clearInterval(a)},200)},5e3))}}}();return n}),define("modules/WelcomeAd",["jquery","modules/Utils","modules/Debounce"],function(a,b,c){"use strict";return{redirectURL:null,adContainer:null,msToForceRedirect:15e3,redirectTimeout:null,doRedirect:function(){window.location.href=this.redirectURL+this.getClickParam()},getClickParam:function(){var a="?";return this.redirectURL.indexOf("?")>-1&&(a="&"),a+"click=welcome-ad"},bindEventHandlers:function(){c.on("resize","welcome-ad",a.proxy(this.handleResize,this)),c.on("scroll","welcome-ad",a.proxy(this.handleScroll,this)),this.adContainer.on("click",a.proxy(this.cancelRedirect,this)).on("mouseover",a.proxy(this.cancelRedirect,this))},resizeAdContainer:function(){var a=window.innerHeight;this.adContainer.height(a-this.adContainer.offset().top)},handleResize:function(){this.resizeAdContainer(),this.cancelRedirect()},handleScroll:function(){this.cancelRedirect(),c.off("scroll","welcome-ad")},cancelRedirect:function(){clearTimeout(this.redirectTimeout)},init:function(){a("body#welcome-ad").length<1||(this.redirectURL=b.getCookie("welcome_referrer")||"/",this.adContainer=a(".welcome-ad-container"),a("#welcome-ad--redirect-link").attr("href",this.redirectURL+this.getClickParam()),this.resizeAdContainer(),this.bindEventHandlers(),this.redirectTimeout=setTimeout(a.proxy(this.doRedirect,this),this.msToForceRedirect))}}}),define("modules/SetAgeGate",["jquery"],function(a){"use strict";var b=function(){return{$gate:"#age-gate",month:"#birth-month",day:"#birth-day",year:"#birth-year",ageGate:function(c){var d,e,f,g=this,h=g.find(b.$gate);h.length&&(d=h.find(b.month),e=h.find(b.day),f=h.find(b.year),g.addClass("inactive").find("input, select, textarea").not(h.find("select")).prop("disabled",!0),h.find("select").on("change",function(){var h={month:d.val(),day:e.val(),year:f.val()};parseInt(h.month)&&parseInt(h.day)&&parseInt(h.year)&&b.checkAge(g,a.extend({},c,h))}))},checkAge:function(b,c){var d={age:13,legal:a.noop,underage:a.noop,month:0,day:0,year:0},e=a.extend({},d,c),f=new Date,g=new Date;g.setFullYear(g.getFullYear()-e.age),f.setFullYear(e.year,e.month,e.day),0>g-f?e.underage(b):e.legal(b)},pass:function(a){a.removeClass("inactive").find("input, select, textarea").prop("disabled",!1)},deny:function(a){var c=a.find(b.$gate);a.addClass("denied"),c.find("select").prop("disabled",!0)},init:function(){a.fn.ageGate=this.ageGate,this.$gate=a(this.$gate),this.$gate.length&&this.$gate.hasClass("enabled")&&(this.$form=this.$gate.closest("form"),this.$form.length&&(this.$form.ageGate({legal:this.pass,underage:this.deny}),this.$gate.find("select").trigger("change")))}}}();return b}),define("modules/EmbeddedForm",["jquery"],function(a){"use strict";var b=function(){function b(a){var b=new Array("","one","two","three","four","five","six","seven","eight","nine","ten");return b[a]}function c(){var c=Math.floor(10*Math.random()+1),d=Math.floor(10*Math.random()+1),e=b(c),f=b(d),g=c+d;a("#answer").attr("data-answer",g),document.getElementById("no1").innerHTML=e,document.getElementById("no2").innerHTML=f}function d(b){var c;return a(".embedded-form-main :input",b).each(function(){var b=a(this);this.value||"required"!==b.attr("data-required")||(b.parent().addClass("invalid-field"),c="Please fill in required field(s)")}),c}function e(a){var b,c=a.find("#phone_number"),d=c.val().replace(/\D/g,"");if(!c.data("required")&&!c.val().length)return b;if("1"===d.charAt(0)&&(d=d.slice(1,d.length)),10!==d.length)c.parent().addClass("invalid-field"),b="Please enter in a valid US telephone number (ex: XXX-XXX-XXXX)";else{var e=d.substring(0,3),f=d.substring(3,6),g=d.substring(6,10);c.val(e+"-"+f+"-"+g)}return b}function f(){var b,c=a(".age-gate--dropdowns"),d=c.find("#birth-month"),e=c.find("#birth-day"),f=c.find("#birth-year"),g=parseInt(d.val(),10),h=parseInt(e.val(),10),i=parseInt(f.val(),10);return c.length&&!c.hasClass("enabled")&&(g||h||i)?(g&&h&&i||(d.toggleClass("invalid-field",!g),e.toggleClass("invalid-field",!h),f.toggleClass("invalid-field",!i),b="Please enter a full birthday"),b):void c.find("invalid-field").removeClass("invalid-field")}function g(a){var b,c=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,d=a.find("#email_address"),e=d.val();return c.test(e)||(b="Please enter a valid email address",d.parent().addClass("invalid-field")),b}function h(a){var b,c=a.find("#answer"),d=c.val(),e=c.attr("data-answer");return isNaN(d)?(b="Please enter your answer as a number (eg, 7 not 'seven')",c.parent().addClass("invalid-field")):d!==e&&(b="Your answer is not correct. Please try again.",c.parent().addClass("invalid-field")),b}function i(b){var c=b,i="",j=!1;if(c.find("div").removeClass("invalid-field"),c.find("#error-message").text("").show(),i=d(c),i||(i=f()),i||(i=g(c)),i||(i=e(c)),i||(i=h(c)),i){c.find("#error-message").text(i).show();var k=a("#age-gate").offset().top-20;a("html, body").animate({scrollTop:k},200)}else j=!0;return j}return{init:function(){a(".embedded-form").length>0&&(c(),a(".embedded-form").submit(function(b){var c=a(this);b.preventDefault(),b.stopPropagation();var d=c.find("#success-message"),e=c.find("#error-message"),f=i(c);if(f){a(this).find("input[type=submit]").attr("disabled","disabled");var g=c.data("action"),h=new FormData(document.getElementsByName("embedded-form")[0]);a(this).trigger("reset"),a.ajax({type:"POST",url:g,processData:!1,contentType:!1,data:h}).done(function(b){if(b&&b.status&&""!==b.status)if("success"===b.status){if(b&&b.message&&""!==b.message){d.html(b.message),a(".single-col, .double-col, #age-gate").hide(),e.hide(),d.parent().show();var c=d.offset().top-70;a("html, body").animate({scrollTop:c},200)}}else"failure"===b.status&&b&&b.message&&""!==b.message&&(e.html(b.message),a(".embedded-form-main, #age-gate").hide())}).fail(function(){e.html("We're sorry, we're unable to submit your data at this time. Please try again later."),a(".embedded-form-main, #age-gate").hide()}),a("#age-gate select").attr("disabled","disabled")}}))}}}();return b}),define("modules/IsotopeGrid",["jquery","underscore","isotope","modules/Utils","modules/Debounce"],function(a,b,c,d,e){"use strict";var f=function(){function b(){e.on("resize","isotope-grid-resize",f),a(window).on("render.app.gpt-ads",g),a(".isotope-grid-filter").on("click",h)}function f(){"undefined"!=typeof k?k.layout():d.mq>=d.mqs.tablet&&i()}function g(b,c){var d=c.getSlotId(),e=a("#"+d.getDomId());e.closest(l).length&&k.layout()}function h(b){var c=a(b.target);c.addClass("active").siblings(".isotope-grid-filter").removeClass("active");var d=c.data("filter");k.arrange({filter:d})}function i(){k=new c(j,{itemSelector:".isotope-grid-item",resizable:!1,stamp:".isotope-grid-stamp",masonry:{columnWidth:".isotope-grid-item"}}),a(".isotope-grid-ad").addClass("active");var b=a(".isotope-grid-filter.active").not(".isotope-grid-filter-show-all");b.length&&k.arrange({filter:b.data("filter")})}var j,k,l=".isotope-grid";return{init:function(){return j=document.querySelector(l),!j||d.mq<d.mqs.tablet?!1:(i(),void b())}}}();return f}),define("modules/Zoomable",["jquery","modules/Utils","hammer"],function(a,b,c){"use strict";var d=function(){function e(a){if(d.zoomed)return void d.reset();l.trigger("render.app.zoom-open"),u=v=x,d.zoomed=!0;var b,c=d.zContainer[0],e=d.zImage,f=e.getBoundingClientRect(),g=c.getBoundingClientRect(),h=a.center.x,i=a.center.y,j=i-(i-f.top)*u,k=h-(h-f.left)*u,m=g.bottom-(j+f.height*u),n=g.right-(k+f.width*u),o=u*f.width>g.width,p=u*f.height>g.height;o&&(k>0&&(h=-u*f.left/(1-u)),n>0&&(h=(u*(f.left+f.width)-g.right)/(u-1))),p?(j>0&&(i=-u*f.top/(1-u)),m>0&&(i=(u*f.bottom-g.bottom)/(u-1))):i=f.top-(f.bottom-g.bottom)/2,b=d.scaleOrigin(h,i,u),d.transform(b.x,b.y,b.scale,B),v=b.scale}function f(a){var b=a.changedPointers[0].pageX,c=a.changedPointers[0].pageY,e=d.zContainer[0],f=d.zImage.getBoundingClientRect(),g=e.getBoundingClientRect(),h=f.width>g.width,i=f.height>g.height;k={x:b,y:c,xi:q,yi:r,left:f.left,top:f.top,right:f.right-g.right,bottom:f.bottom-g.bottom,wider:h,taller:i}}function g(a){var b=a.changedPointers[0].pageX,c=a.changedPointers[0].pageY,e=b-k.x,f=c-k.y;k.wider?(e>=-k.left&&(e=-k.left),e<=-k.right&&(e=-k.right)):e=0,k.taller?(f>=-k.top&&(f=-k.top),f<=-k.bottom&&(f=-k.bottom)):f=0,e=k.xi+e,f=k.yi+f,d.transform(e,f,u,"none")}function h(){k=null}function i(a){l.trigger("render.app.zoom-open");var b=a.center.x,c=a.center.y,e=a.scale;d.zoomed=!0,u=v*e,u>y&&(u=y),w>u&&(u=w);var f=d.scaleOrigin(b,c,u);d.transform(f.x,f.y,f.scale,"none")}function j(){v=u,s=!1,1>t&&d.reset()}var k,l,m,n,o,p=window.Modernizr,q=0,r=0,s=!1,t=1,u=1,v=1,w=.8,x=4,y=8,z=0,A=0,B="all 0.6s ease-out",C="all 0.3s ease-out",D={};return{image:null,hmrImage:null,hmrCloseIcon:"",closeBtn:"",overlay:!0,isZoomableActive:!1,zoomed:!1,preloader:a("<i/>",{"class":"icon icon-loader"}),zContainer:"",zImageWrap:"",zImage:"",containerDimensions:"",init:function(){l=a(window),m=a(document),n=a("body"),this.setup()},setup:function(b){b||(b=a(".zoomable")),b.length&&(this.setupContainers(),this.zContainer.length&&this.bindImages(b))},setupZoomWithOverlay:function(a){this.setupContainers(),this.zContainer.length&&(this.image=this.createZoomableImage(a,!0),this.setupZoomableImage(a,!0))},setupZoomWithoutOverlay:function(a){this.reset(),this.zContainer=a.parent().parent(),this.zImageWrap=a.parent(),this.image=this.createZoomableImage(a,!1),this.setupZoomableImage(a,!1)},setupContainers:function(){a(".zoomable-container").length&&(this.zContainer=a(".zoomable-container"),this.zImageWrap=a(".zoomable-wrap"))},createZoomableImage:function(b,c){var e;return c?e=a("<img />",{id:"zoomable-image",src:d.getZoomableUrl(b)}):(a("#zoomable-image").attr("id",""),e=b,e.attr("id","zoomable-image")),e},bindImages:function(b){var c,d=this;a.each(b,function(){c=a(this),c.on("click",d.handleImageClick.bind(d))})},handleImageClick:function(b){var c=a(b.target);this.image=this.createZoomableImage(c,!0),this.setupZoomableImage(c,!0)},setupZoomableImage:function(a,b){this.overlay=b,this.overlay&&(this.containerDimensions=this.prepareOverlay()),this.zContainer.addClass("zoom-active"),this.loadImage(),this.isZoomableActive=!0,this.bindCloseButton(),this.setHistory()},prepareOverlay:function(){var b,c;return n.addClass("no-scroll"),a("html").addClass("no-scroll"),b=l.width(),c=l.height(),this.zContainer.css("width",b),this.zContainer.css("height",c),this.preloader.appendTo(this.zContainer),{width:b,height:c}},getZoomableUrl:function(b){return a(b).attr("data-zoom")},loadImage:function(){this.image.one("load",this.loadImageHandler.bind(this)).each(function(){this.complete&&a(this).load()})},loadImageHandler:function(b){var c,d,e=a(b.target),f=e.width(),g=e.height();this.overlay?(this.zImageWrap.empty(),this.preloader.remove(),e.appendTo(this.zImageWrap),f=e.width(),g=e.height(),c=this.containerDimensions.width,d=this.containerDimensions.height,o=Math.min(c/f,d/g),z=f*o,A=g*o):(z=f,A=g),this.zImage=e[0],this.overlay&&(this.zImage.style.width=z+"px",this.zImage.style.height=A+"px"),this.zImage.style[p.prefixed("transformOrigin")]="0px 0px 0px",this.zImage.style[p.prefixed("transform")]="translate3d( 0, 0, 0 ) scale( 1 )",this.bindEvents()},bindCloseButton:function(){a("#zoomable-close").length&&(this.closeBtn=document.querySelector("#zoomable-close"),this.hmrCloseIcon=new c(this.closeBtn),this.hmrCloseIcon.on("tap",this.closeZoom.bind(this)))},bindEvents:function(){l.on("orientationchange resize",this.resize.bind(this));var a=document.querySelector("#zoomable-image");null!==this.hmrImage&&this.hmrImage.destroy(),this.hmrImage=new c.Manager(a),this.hmrImage.add(new c.Tap({event:"doubletap",taps:2,posThreshold:150})),this.hmrImage.add(new c.Pan({direction:c.DIRECTION_ALL})),this.hmrImage.add(new c.Pinch({enable:!0})),this.hmrImage.on("doubletap",e),this.hmrImage.on("panstart",f),this.hmrImage.on("panmove",g),this.hmrImage.on("panend",h),this.hmrImage.on("pinchmove",i),this.hmrImage.on("pinchend",j)},setHistory:function(){D=History.getState().data,this.overlay&&("{}"===JSON.stringify(D)&&History.pushState({zoom:!0},null,"?zoomable"),History.Adapter.bind(window,"statechange.zoomable",this.closeZoom.bind(this)))},resize:function(){if(this.isZoomableActive){if(this.overlay){var a,b,c=l.width(),d=l.height();this.zContainer.css("width",c),this.zContainer.css("height",d),o=Math.min(c/z,d/A),a=z*o,b=A*o,this.zImage.style.width=a+"px",this.zImage.style.height=b+"px"}this.reset()}},scaleOrigin:function(a,b,c){var e=d.zImage.getBoundingClientRect();a-=e.left,b-=e.top;var f=a*c/t,g=b*c/t,h=q+a-f,i=r+b-g;return{x:h,y:i,scale:c}},reset:function(){var a=0,b=0,c=1;this.image&&this.transform(a,b,c,C),q=0,r=0,t=1,u=1,v=1,this.zoomed=!1,l.trigger("render.app.zoom-close")},transform:function(a,b,c,d){d||(d="none"),this.zImage.style[p.prefixed("transformOrigin")]="0px 0px 0px",this.zImage.style[p.prefixed("transform")]="translate3d("+a+"px, "+b+"px, 0) scale3d("+c+", "+c+", "+c+")",this.zImage.style[p.prefixed("transition")]=d,q=a,r=b,t=c},closeZoom:function(){var c=History.getCurrentIndex(),d=History.getState().data._index===c-1;d||(D=History.getState().data,b.getObj(D,"zoom")&&History.back(),a("html").removeClass("no-scroll"),this.isZoomableActive=!1,D={},this.reset(),this.zImageWrap.empty(),this.zContainer.removeClass("zoom-active"),this.zContainer.css({width:"auto",height:"auto"}),n.removeClass("no-scroll"),"undefined"!=typeof hmrImage&&this.hmrImage.destroy(),this.hmrCloseIcon.destroy(),l.unbind("statechange.zoomable"),l.trigger("render.app.zoom-close"))},getZoomStatus:function(){return this.isZoomableActive},isZoomed:function(){return this.zoomed}}}();return d}),define("modules/CookieBanner",["jquery"],function(a){"use strict";return{cookieBanner:null,closeButton:null,cookieNameValue:null,checkIfCookieExists:function(){return-1!==document.cookie.indexOf(this.cookieNameValue)},dismissBanner:function(){this.cookieBanner.css("display","none");var a="";if(this.cookieBanner.hasClass("cookie-permanent")){var b=new Date;b.setFullYear(b.getFullYear()+10),a="; expires="+b.toGMTString()}document.cookie=this.cookieNameValue+a+"; path=/"},hideShowCookieOverlay:function(){this.checkIfCookieExists()===!1?this.cookieBanner.css("display","inline-block"):this.cookieBanner.css("display","none")},init:function(){this.cookieBanner=a(".cookie-banner"),this.closeButton=this.cookieBanner.find(".icon"),this.cookieNameValue="cookiebanner=1",this.hideShowCookieOverlay(),this.closeButton.on("click",a.proxy(this.dismissBanner,this))}}}),define("modules/SwipeableNav",["jquery","iscroll"],function(a,b){"use strict";var c=function(){function c(){var b=a(window).width();i.css("width",b),d()?(g(),j.addClass("disabled"),k.removeClass("disabled"),a(l).removeClass("centered")):(h(),a(l).addClass("centered"))}function d(){var a=l.getBoundingClientRect(),b=i.get(0).getBoundingClientRect(),c=a.width>b.width;return c&&(p=-parseInt(a.width-b.width)),c}function e(){m&&m.x<=0&&m.x>=p&&(j.removeClass("disabled"),k.removeClass("disabled"))}function f(){m&&(m.x>=0?j.addClass("disabled"):j.removeClass("disabled"),m.x<=p?k.addClass("disabled"):k.removeClass("disabled"))}function g(){m=new b(".swipeable-nav--inner",{scrollX:!0,scrollY:!1,scrollbars:!1,eventPassthrough:!0,preventDefault:!1,bounce:!1}),m.on("beforeScrollStart",e),m.on("scrollEnd",f)}function h(){m&&(m.off("scrollEnd",f),m.off("beforeScrollStart",e),m.scrollTo(0,0),m.destroy(),m=null),j.addClass("disabled"),k.addClass("disabled"),p=0}var i,j,k,l,m,n,o,p;return{constructFromNav:function(){var b,e;n=a(".nav a.nav--primary--link"),i=a(".swipeable-nav--inner"),j=a(".swipeable-nav__shutter-lft"),k=a(".swipeable-nav__shutter-rt"),o=a(".nav .item-subscribe a:first"),b=n.clone().slice(0,5),i.hasClass("include-subscribe-link")&&(e=o.clone(),e.removeClass("nav--secondary--link").addClass("nav--primary--link nav--subscribe--link"),b=a.merge(e,b)),b=b.wrap('<li class="nav--swipeable--item"></li>').parent(),b=b.wrapAll('<ul class="nav--swipeable--list"></ul>').parent(),b.appendTo(i),l=document.querySelector(".nav--swipeable--list"),d()?(g(),k.removeClass("disabled")):a(l).addClass("centered"),a(window).on("orientationchange resize",c);
},init:function(){!a(".swipeable-nav").length}}}(jQuery);return c}),define("modules/ContentTesting",["jquery","bacon"],function(a,b){"use strict";var c=function(){return{init:function(){window.bacon=b}}}();return c}),define("modules/mobile/UrlSchemeCheck",["jquery"],function(a){"use strict";var b=function(){function c(){b.$domObject=a(b.domObjectSource)}function d(){for(var a in b.$gatewayElements)b.$gatewayElements.hasOwnProperty(a)&&b.bindingHandlers[a]()}function e(a,c,d,e){var f=e+b.timeoutDurations[a]+10;if(document.hasFocus()){var g=b.redirectUrlGenerators[a](c);g.length&&d.getTime()<f&&(window.location=g)}}function f(){for(var a in b.miscElementSources)b.$miscElements[a]=b.$domObject.find(b.miscElementSources[a]);for(var c in b.gatewayElementSources)b.$gatewayElements[c]=b.$domObject.find(b.gatewayElementSources[c])}return{$domObject:null,domObjectSource:document,$miscElements:[],miscElementSources:{html:"html"},$gatewayElements:[],gatewayElementSources:{whatsapp:".whatsapp"},redirectUrlGenerators:{whatsapp:function(c){var d=b.$miscElements.html,e=a(c.currentTarget),f="";return e.length&&(d.hasClass("ios")?f=e.data("iosurl"):d.hasClass("mobile")&&(f=e.data("androidurl"))),f}},bindingHandlers:{whatsapp:function(){var a=b.$gatewayElements.whatsapp;a.length&&a.on("click",b.gatewayElementEvents.whatsapp)}},gatewayElementEvents:{whatsapp:function(c){var d=a(c.currentTarget),f=new Date,g=f.getTime();window.location=d.data("appurl"),setTimeout(e,b.timeoutDurations.whatsapp,"whatsapp",c,f,g)}},timeoutDurations:{whatsapp:5e3},init:function(){c(),f(),d()}}}();return b}),define("modules/themes/ThemesBaseRecirc",["jquery","underscore","modules/Images","modules/ReadDocuments"],function(a,b,c,d){"use strict";var e=function(){return{maxItems:2,getName:function(){return this.componentName},getRequired:function(){var b=a("#themes-recirc-"+this.getName()),c=a(this.relatedElementChildren).length;return a(this.relatedElementsPrePopulated).length>0||0===b.data("stories")||!this.fetchContent?!1:(0===c&&(c=b.data("stories")*a(this.relatedElementParent).length),c)},tidy:function(){0===a(this.relatedElementsPrePopulated).length&&a(this.relatedElement).hide()},populate:function(e){if("undefined"!=typeof this.template&&"undefined"!=typeof e&&0!==e.length){try{e=d.getEligibleDocuments(e,this.maxItems)}catch(f){console.log("Error: cannot find eligible documents")}var g,h=a("<div/>"),i=b.template(a(this.template).text()),j=e.length/a(this.relatedElementParent).length,k=0,l=this.relatedElementChildren.split(" ")[1],m=this;b.each(e,function(c){if(b.extend(c,this.templateOptions||{}),h.append(i(c)),h.find(l).length===j){g=a(a(m.relatedElementParent)[k]),g.empty(),g.html(h.html()),h.empty(),k++;try{this.afterPopulate(j)}catch(d){}}}.bind(this)),h.find(l).length&&(g=a(a(this.relatedElementParent)[k]),g.empty(),g.html(h.html()),h.empty()),c.setupLazyImages(),this.fetchContent=!1}},show:function(){this.fetchContent=!0,a(this.relatedElement).show()}}}();return e}),define("modules/themes/ThemesEndOfContent",["jquery","modules/Utils","modules/themes/ThemesBaseRecirc"],function(a,b,c){"use strict";var d=function(){return{relatedElement:".recirc-end-of-content",relatedElementParent:".recirc-end-of-content .module-story-list--stories",relatedElementChildren:".recirc-end-of-content .module-story",relatedElementsPrePopulated:".recirc-end-of-content .module-story .module-story--inner",template:"#module-story--template",componentName:"end-of-content",templateOptions:{truncation:!1},fetchContent:!1,displayEvent:"render.apps.eoc",init:function(){a(this.relatedElement).toggle(this.fetchContent),a.extend(d,c),b.getObj(HRST,"article.showEOCLinks")&&this.show()},afterPopulate:function(b){var c="recirc-end-"+(b>1?"double":"single");a(this.relatedElement).addClass(c)}}}();return d}),define("modules/themes/ThemesMaster",["underscore","jquery","modules/themes/ThemesEndOfContent"],function(a,b,c){"use strict";var d="/ajax/themes-related/",e=b(window),f=[c],g=function(){return{makeRequest:function(){var a=this.getContentID(),c=this,e=d+a+"/",f=this.parameterizeComponents(),g=f.length;return!a||1>g?void this.cleanup():(e+=f,void b.ajax({url:e,dataType:"json"}).done(function(a){c.resolve(a)}).fail(function(){c.cleanup()}))},cleanup:function(){for(var a=0,b=f.length;b>a;a++)f[a].tidy()},getContentID:function(){return window.HRST.article.contentID},parameterizeComponents:function(){for(var a,b="",c=0,d=f.length;d>c;c++)a=f[c].getRequired(),a!==!1&&(b+=b.length>0?",":"",b+=f[c].getName()+"|"+a);return b.length>0&&(b="?components="+b),b},resolve:function(a){if(0===a.length)this.cleanup();else for(var b=0,c=f.length;c>b;b++)f[b].populate(a[f[b].getName()])},setListeners:function(){for(var a=0,b=f.length;b>a;a++)f[a].displayEvent.length&&e.on(f[a].displayEvent,this.displayComponent.bind(this,a))},displayComponent:function(a){f[a].show(),this.makeRequest()},init:function(){this.setListeners(),this.makeRequest()}}}();return g}),define("modules/DataBufferFactory",["jquery"],function(a){"use strict";return{generate:function(b,c,d){function e(){return b.find(".content-module")}function f(a){var b,d;return"prev"===a&&!l||"next"===a&&m>=c.length?void k.onBoundsExceeded(a):(b="next"===a?m:l-k.numItemsToLoad,d=c.slice(b,b+k.numItemsToLoad),void g(d,a))}function g(b,c){if(b.length){for(var d=b[0].groupid,e=b[0].updated,f=[b[0].id],g=1,i=b.length;i>g;g++)f.push(b[g].id);a.ajax({url:"/ajax/content-modules-slides/"+d+"/"+e+"/"+f.join()+"/",data:{modules:JSON.stringify(b)},success:h.bind(null,c,b.length),fail:function(a,b){console.warn("Request for more content stream items failed: ",b)}})}}function h(a,c,d){var f=e();"next"===a?(b.append(d),m+=c):"prev"===a&&(b.prepend(d),l-=c),k.onPostLoad(a,f.slice(-c)),f.length>k.maxItems&&i(a)}function i(a){var b,c=e();"next"===a?(b=c.slice(0,k.numItemsToLoad),l+=k.numItemsToLoad):(b=c.slice(-1*k.numItemsToLoad),m-=k.numItemsToLoad),b.remove(),k.onPostCull(a,b)}if("object"==typeof b&&"object"==typeof c){d=a.isPlainObject(d)?d:{};var j={numItemsToLoad:2,maxItems:12,offset:0,onBoundsExceeded:a.noop,onPostLoad:a.noop,onPostCull:a.noop},k=a.extend({},j,d),l=0,m=e().length;return{checkForProximityToBounds:function(a,b){("next"===a&&b===e().length-k.numItemsToLoad||"prev"===a&&b===k.numItemsToLoad)&&f(a)},runManualItemLoad:function(a){f(a)}}}}}}),define("modules/SlideshowFactory",["jquery","modules/Debounce","modules/Utils","modules/DataBufferFactory","modules/Images","hammer"],function(a,b,c,d,e,f){"use strict";return{generate:function(g){function h(){a.event.trigger({type:"render.app.alt-gallery-slide",id:g.attr("id"),slideIndex:x,slideCount:w,galleryType:"embedded-slideshow"})}function i(b){if(b){var c=t;"prev"===b&&0===x||"next"===b&&x+1===w||("prev"===b?(t=c.prev(),x--,y--,r.animate({"margin-left":"+=100vw"},"slow")):"next"===b&&(t=c.next(),x++,y++,r.animate({"margin-left":"-=100vw"},"slow")),h(),a(window).trigger("lazyload-update"),p.checkForProximityToBounds(b,y),j())}}function j(){u.toggleClass("hidden",0===x),v.toggleClass("hidden",x+1===w)}function k(){q=HRST.datalayer[g.attr("id")],r=g.find(".slideshow-module-slider"),s=g.find(".slideshow-module-slides"),t=r.find(".slideshow-content-module").eq(0),u=g.find(".slideshow-module-dir-prev"),v=g.find(".slideshow-module-dir-next"),w=q.length,p=d.generate(s,q,{numItemsToLoad:z,onPostLoad:function(a,b){if(e.afterLoadImages(!0),"prev"===a)for(var c=0,d=b;d>c;c++)r.find(".placeholder").eq(0).remove(),y++},onPostCull:function(b,c){if("next"===b)for(var d=0,e=c.length;e>d;d++)r.prepend(a("<div>",{"class":"slideshow-content-module placeholder"})),y--}}),r.css("width",t.width()*w)}function l(){b.on("resize",function(){r.css("width",t.width()*w)}),g.on("click",".slideshow-module-dir",function(){var b=a(this).data("dir");i(b)}),g.hammer({touchAction:"auto",recognizers:[[f.Pan,{direction:f.DIRECTION_HORIZONTAL,threshold:B}]]}).on("panstart",m).on("panend",n),a(document).on("touchmove",o)}function m(a){Math.abs(a.gesture.deltaY)<A&&(c.preventDefault(a),C=!0,4===a.gesture.direction?i("prev"):2===a.gesture.direction&&i("next"))}function n(){C=!1}function o(a){C&&c.preventDefault(a)}if(g instanceof jQuery&&g.length&&HRST.datalayer[g.attr("id")]){var p,q,r,s,t,u,v,w,x=0,y=0,z=2,A=15,B=25,C=!1;return q=HRST.datalayer[g.attr("id")],k(),e.afterLoadImages(!0),l(),g}}}}),define("modules/Target",["jquery","modules/Utils"],function(a,b){"use strict";function c(){var a=Math.floor(2*Math.random()),c=b.getQueryParams("test");return"undefined"!=typeof c?~~c:a%2>0}var d=function(){return{init:function(){var d,e=b.getObj(window,"HRST.article.abtest");a.isPlainObject(e)&&e.name&&(d=e.defaultExperience,c()&&(a("body").append("<div id='buzzing-recirc-suppress-section'></div>"),d=e.alternateExperience),a.event.trigger({type:"render.abtest",testName:e.name,testValue:d}))}}}();return d}),define("modules/ReadDocuments",["underscore","modules/Utils"],function(a,b){"use strict";var c=function(){function c(){return b.getObj(window,"HRST.article.contentID")}function d(){var b=c(),d=[];if(b){try{d=JSON.parse(localStorage.getItem(e))}catch(g){console.log("Error: cannot read user document history")}a.isArray(d)||(d=[]),d.indexOf(b)>-1||(d.length>=f&&(d=d.slice(1,f)),d.push(b),d=a.uniq(d),localStorage.setItem(e,JSON.stringify(d)))}}var e="hrst.read.documents",f=8e3;return{getEligibleDocuments:function(b,c){var d=[],f=[],g=0;if(!a.isArray(d))return b.slice(0,c);try{d=JSON.parse(localStorage.getItem(e))}catch(h){console.log("Error: cannot read local storage")}for(;g<b.length&&f.length<c;){var i=-1;a.has(b[g],"content_id")&&(i=b[g].content_id),(d.indexOf(i)<0||-1===i)&&f.push(b[g]),g++}return f.length?f:b.slice(0,c)},init:function(){d()}}}();return c}),define("global",["modules/Ads","apis/Facebook","modules/SidePanel","modules/Share","modules/Sticky","modules/Modal","modules/Embeds","modules/LandingFeed","modules/SearchSuggest","modules/Video","modules/VideoLogo","modules/Newsletter","modules/NavFeed","modules/SeoRelated","modules/StyleGuide","modules/GridGuide","modules/Metrics","modules/LiveCast","modules/WelcomeAd","modules/SetAgeGate","modules/EmbeddedForm","modules/IsotopeGrid","modules/Zoomable","modules/CookieBanner","modules/SwipeableNav","modules/ContentTesting","modules/mobile/UrlSchemeCheck","modules/themes/ThemesBaseRecirc","modules/themes/ThemesEndOfContent","modules/themes/ThemesMaster","modules/DataBufferFactory","modules/SlideshowFactory","modules/Target","modules/ReadDocuments"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H){var I=function(){b.init(),d.init(),g.init(),k.init(),o.init(),s.init(),t.init(),w.init(),x.init(),y.init(),z.init(),C.init(),D.init(),G.init(),H.init()};$(function(){a.init(),c.init(),e.init(),f.init(),h.init(),i.init(),j.init(),l.init(),m.init(),n.init(),p.init(),q.init(),r.init(),u.init(),v.init(),A.init()}),"complete"===document.readyState?I():$(window).on("load",I)}),require(["global"]);